(self.webpackChunk=self.webpackChunk||[]).push([[928,863],{86329:(e,t,n)=>{"use strict";n.d(t,{b:()=>c});var r=n(67294),a=n(70755),o=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function c(e,t,n,c){!function(e,t,n){var c=(0,a.P)();(0,r.useEffect)((function(){return c.on(e,t),function(){c.off(e,t)}}),n?o(o([],n),[t]):n)}(e,(function(e){var r=e.sender;n&&("string"==typeof n&&r===n||n.includes(r))&&t(e)}),c?o(o([],c),[t,n]):c)}},85928:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(67294),a=n(10267),o=n(51252),c=n(56941),i=n(38089),l=n(91121),s=n(82669),u=n(67954),p=n(609),m=n(97975),f=n(55302),h=n(74855),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function g(e,t){return Object.keys(e).filter((function(e){return t(e)})).reduce((function(t,n){var r;return d(d({},t),((r={})[n]=e[n],r))}),{})}var b=n(78863),E=n(86329),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};const y=function(e){var t=e.simulation,n=e.canEditPages,d=e.correlationGraphId,y=(0,r.useState)(""),x=y[0],N=y[1],Z=(0,r.useState)(!1),k=Z[0],w=Z[1],C=(0,r.useState)({plugin:"@Simulations:PartialCorrelationGraph",id:"partial-corr-graph-"+Math.random().toString(36).substr(2,10),simulation:t,fn:"pearson",top:!1,n:10,direction:"negative",useEndpoints:!0,usePerturbation:!1,title:"",height:600}),O=C[0],P=C[1];return(0,E.b)("onCorrelationGraphBarClick",(function(e){P((function(t){return v(v({},t),g(e,(function(e){return"sender"!==e})))}))}),d,[P]),(0,r.useEffect)((function(){var e=g(O,(function(e){return!k||!["compareWith","fn","useEndpoints","usePerturbation"].includes(e)}));k&&(e.connectedTo=d),N("```SciKi\n"+JSON.stringify(e,void 0,2)+"\n```")}),[N,t,O,k,d]),r.createElement(r.Fragment,null,r.createElement(a.Z,null,r.createElement(o.Z,{xs:"12",xl:"8"},r.createElement(b.default,v({},O,{connectedTo:d}))),r.createElement(o.Z,{xs:"12",xl:"4",className:"d-flex flex-column"},r.createElement(c.Z,{className:"bg-gradient-dark shadow mb-2 flex-grow-1"},r.createElement(i.Z,{className:"bg-transparent"},r.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Change your graph")),r.createElement(l.Z,{className:"text-white-50"},r.createElement(s.Z,null,r.createElement(u.Z,{for:"input-title-pcorr"},"Title"),r.createElement(p.Z,{id:"input-title-pcorr",type:"text",value:O.title,onChange:function(e){return P((function(t){return v(v({},t),{title:e.target.value})}))}})),r.createElement(s.Z,null,r.createElement(u.Z,{for:"input-height-pcorr"},"Height"),r.createElement(p.Z,{id:"input-height-pcorr",type:"number",value:O.height,onChange:function(e){return P((function(t){return v(v({},t),{height:+e.target.value})}))}})),r.createElement("div",{className:"custom-control custom-checkbox mb-3"},r.createElement("input",{className:"custom-control-input",id:"check-is-connected",checked:k,type:"checkbox",onChange:function(e){return w(e.target.checked)}}),r.createElement("label",{className:"custom-control-label",htmlFor:"check-is-connected"},"Link to the correlation graph?"+(n?" (If you\n                                    enable this option do not close the page\n                                    until you copied the code for both\n                                    correlation graph and detail graph).":""))),r.createElement("div",{className:"custom-control custom-checkbox mb-3"},r.createElement("input",{className:"custom-control-input",id:"check-top-n-pcorr",checked:O.top,type:"checkbox",onChange:function(e){return P((function(t){return v(v({},t),{top:e.target.checked})}))}}),r.createElement("label",{className:"custom-control-label",htmlFor:"check-top-n-pcorr"},"Show only the top-N results?")),O.top&&r.createElement(r.Fragment,null,r.createElement(s.Z,null,r.createElement(u.Z,{for:"input-number-pcorr"},"Number of top results"),r.createElement(p.Z,{id:"input-number-pcorr",type:"number",value:O.n,onChange:function(e){return P((function(t){return v(v({},t),{n:+e.target.value})}))}})),r.createElement(s.Z,null,r.createElement(u.Z,{for:"input-direction-pcorr"},"Direction"),r.createElement(p.Z,{id:"input-direction-pcorr",type:"select",value:O.direction,onChange:function(e){return P((function(t){return v(v({},t),{direction:e.target.value})}))}},r.createElement("option",{value:"both"},"Both"),r.createElement("option",{value:"positive"},"Top-N positive"),r.createElement("option",{value:"negative"},"Top-N negative")))))),n&&r.createElement(c.Z,{className:"bg-gradient-dark shadow flex-grow-1"},r.createElement(i.Z,{className:"bg-transparent"},r.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},r.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Get the code"),r.createElement(h.CopyToClipboard,{text:x},r.createElement(m.Z,{className:"btn btn-sm btn-link",id:"get-code-tooltip",type:"button"},r.createElement("i",{className:"fas fa-clipboard"}))),r.createElement(f.Z,{delay:0,trigger:"hover focus",target:"get-code-tooltip"},"Copy To Clipboard"))),r.createElement(l.Z,null,r.createElement("code",{className:"text-wrap"},r.createElement("pre",{className:"text-white-50",style:{maxHeight:"150px",overflowX:"auto"}},x)))))))}},78863:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(67294),a=n(9669),o=n.n(a),c=n(88129),i=n.n(c),l=n(17834),s=n(58660),u=n(86329),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const f=function(e){var t=e.simulation,n=e.title,a=e.height,c=void 0===a?600:a,f=e.top,h=void 0!==f&&f,d=e.n,g=void 0===d?10:d,b=e.direction,E=void 0===b?"negative":b,v=e.connectedTo,y=m(e,["simulation","title","height","top","n","direction","connectedTo"]),x=(0,r.useState)({}),N=x[0],Z=x[1],k=(0,r.useState)({compareWith:y.compareWith,fn:y.fn,useEndpoints:y.useEndpoints,usePerturbation:y.useEndpoints}),w=k[0],C=k[1],O=N.data,P=N.error,S=N.message,j=w.compareWith,T=w.fn,M=w.useEndpoints,F=w.usePerturbation;if((0,r.useEffect)((function(){Z({}),j&&j>0&&o().post(i()("simulations.plugins.partialCorrelation",t),{compareWith:j,fn:T,top:h,n:g,direction:E,useEndpoints:M,usePerturbation:F}).then((function(e){var t=e.data;Z({data:t})})).catch((function(e){var t;Z({error:!0,message:null!==(t=e.response.data.message)&&void 0!==t?t:e.message})}))}),[t,j,T,h,g,E,M,F]),(0,u.b)("onCorrelationGraphBarClick",(function(e){C((function(t){return p(p({},t),e)}))}),v,[C]),!j||j<0)return r.createElement(l.Z,{color:"primary"},r.createElement("i",{className:"fas fa-exclamation-circle mx-2"}),"Click on a bar in the correlation graph to display its details.");if(P)return r.createElement("p",{className:"text-red"},S);var G=O?Math.min.apply(Math,O.y):0,W=O?Math.max.apply(Math,O.y):0,B=Math.max(Math.abs(G),Math.abs(W)),z=-B;return r.createElement(r.Fragment,null,!!O&&r.createElement(r.Fragment,null,r.createElement("div",{className:"d-flex flex-grow-1"},r.createElement(s.Z,{data:[p(p({},O),{type:"bar",marker:{color:O.y,cmin:z,cmax:B,colorscale:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(255,255,255)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],showscale:!0}})],layout:{bargap:0,yaxis:{title:"pearson"===T?"Pearson Correlation":"Spearman Correlation"},font:{size:12},autosize:!0,showlegend:!1,title:n},config:{responsive:!0},style:{width:"100%",height:c+"px"},useResizeHandler:!0}))),!O&&r.createElement(l.Z,{color:"primary"},r.createElement("i",{className:"fas fa-circle-notch fa-spin mx-2"}),"Building image. Please wait..."))}}}]);
//# sourceMappingURL=928.js.map?id=0b31a46d3982c820d92b