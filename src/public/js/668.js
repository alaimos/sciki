(self.webpackChunk=self.webpackChunk||[]).push([[668,124],{19668:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var n=a(67294),r=a(10267),l=a(51252),c=a(56941),o=a(38089),s=a(91121),i=a(82669),u=a(67954),m=a(609),d=a(97975),f=a(55302),h=a(74855),p=(a(68236),a(26124)),b=function(){return(b=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},g=function(e,t){for(var a=0,n=t.length,r=e.length;a<n;a++,r++)e[r]=t[a];return e};const E=function(e){var t=e.simulation,a=e.pathway,E=e.canEditPages,v=e.onSelect,x=(0,n.useState)(""),S=x[0],y=x[1],N=(0,n.useState)(!1),F=N[0],k=N[1],w=(0,n.useState)([]),Z=w[0],P=w[1],C=(0,n.useState)({plugin:"@Simulations:NodesTable",simulation:t,pathway:a,nodes:[],sortable:!0,filterable:!0,defaultSorting:{dataField:"FDR",order:"asc"}}),D=C[0],R=C[1],T=E?function(e){P((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):g(g([],t),[e])})),v&&a&&v(e,a)}:void 0;return(0,n.useEffect)((function(){var e=F&&Z.length>0?b(b({},D),{nodes:Z}):D;y("```SciKi\n"+JSON.stringify(e,void 0,2)+"\n```")}),[y,t,D,F,Z]),n.createElement(n.Fragment,null,n.createElement(r.Z,null,n.createElement(l.Z,{xs:"12",xl:E?8:12},n.createElement(p.default,b({},D,{onSelect:T,enableId:!0}))),E&&n.createElement(l.Z,{xs:"12",xl:"4"},n.createElement(c.Z,{className:"bg-gradient-dark shadow mb-2"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Edit Plugin")),n.createElement(s.Z,{className:"text-white-50"},n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-nodes",checked:F,disabled:0===Z.length,type:"checkbox",onChange:function(e){return k(e.target.checked)}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-nodes"},"Show only selected nodes? (The editor will not reflect this change)")),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-filterable",checked:D.filterable,type:"checkbox",onChange:function(e){return R((function(t){return b(b({},t),{filterable:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-filterable"},"Enable search?")),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-sortable",checked:D.sortable,type:"checkbox",onChange:function(e){return R((function(t){return b(b({},t),{sortable:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-sortable"},"Enable sorting?")),D.sortable&&n.createElement(n.Fragment,null,n.createElement(i.Z,null,n.createElement(u.Z,{for:"input-sortBy"},"Sorting"),n.createElement(r.Z,null,n.createElement(l.Z,{xs:6},n.createElement(m.Z,{id:"input-sortBy",type:"select",value:D.defaultSorting.dataField,onChange:function(e){return R((function(t){return b(b({},t),{defaultSorting:b(b({},t.defaultSorting),{dataField:e.target.value})})}))}},n.createElement("option",{value:"nodeId"},"Id"),n.createElement("option",{value:"nodeName"},"Name"),n.createElement("option",{value:"activityScore"},"Activity Score"),n.createElement("option",{value:"averagePerturbation"},"Perturbation"),n.createElement("option",{value:"pValue"},"p-value"),n.createElement("option",{value:"FDR"},"FDR"))),n.createElement(l.Z,{xs:6},n.createElement(m.Z,{id:"input-sortDirection",type:"select",value:D.defaultSorting.order,onChange:function(e){return R((function(t){return b(b({},t),{defaultSorting:b(b({},t.defaultSorting),{order:e.target.value})})}))}},n.createElement("option",{value:"asc"},"ASC"),n.createElement("option",{value:"desc"},"DESC")))))))),n.createElement(c.Z,{className:"bg-gradient-dark shadow"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Get the code"),n.createElement(h.CopyToClipboard,{text:S},n.createElement(d.Z,{className:"btn btn-sm btn-link",id:"get-code-tooltip",type:"button"},n.createElement("i",{className:"fas fa-clipboard"}))),n.createElement(f.Z,{delay:0,trigger:"hover focus",target:"get-code-tooltip"},"Copy To Clipboard"))),n.createElement(s.Z,null,n.createElement("code",{className:"text-wrap"},n.createElement("pre",{className:"text-white-50",style:{maxHeight:"150px",overflowX:"auto"}},S)))))))}},26124:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(67294),r=a(99551),l=a(814),c=a(14951),o=a(29802),s=a(9669),i=a.n(s),u=a(88129),m=a.n(u),d=(a(59201),a(12313),a(82106),a(17834)),f=function(){return(f=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},h=o.ol.SearchBar;const p=function(e){var t=e.simulation,a=e.pathway,s=e.nodes,u=e.sortable,p=void 0===u||u,b=e.filterable,g=void 0===b||b,E=e.enableId,v=void 0!==E&&E,x=e.defaultSorting,S=void 0===x?{dataField:"FDR",order:"asc"}:x,y=e.onSelect,N=(0,n.useState)({data:void 0}),F=N[0],k=N[1],w=F.data,Z=F.error,P=F.message;(0,n.useEffect)((function(){if(a){var e=s?{nodes:s}:{};i().post(m()("simulations.plugins.nodesTable",t),f({pathway:a},e)).then((function(e){var t=e.data;k({data:Object.values(t)})})).catch((function(e){k({error:!0,message:e.message})}))}}),[t,s,a]);var C=[{dataField:"nodeName",text:"Name",sort:p,classes:"text-truncate"},{dataField:"activityScore",text:"Activity Score",sort:p,classes:"text-truncate",formatter:function(e,t){return t.activityScore.toFixed(4)}},{dataField:"averagePerturbation",text:"Perturbation",sort:p,classes:"text-truncate",formatter:function(e,t){return t.averagePerturbation.toFixed(4)}},{dataField:"pValue",text:"p-value",sort:p,classes:"text-truncate",formatter:function(e,t){return t.pValue<1e-4?"< 0.0001":t.pValue.toFixed(4)}},{dataField:"FDR",text:"FDR",sort:p,classes:"text-truncate",formatter:function(e,t){return t.FDR<1e-4?"< 0.0001":t.FDR.toFixed(4)}}];v&&C.unshift({dataField:"nodeId",text:"Id",sort:p});var D=y?{mode:"checkbox",clickToSelect:!0,hideSelectAll:!0,onSelect:function(e){return y(e.nodeId)}}:void 0,R=(0,n.useMemo)((function(){return(0,l.ZP)({alwaysShowAllBtns:!0,showTotal:!0,withFirstAndLast:!1,sizePerPageRenderer:function(e){var t=e.onSizePerPageChange;return n.createElement("div",{className:"dataTables_length",id:"datatable-basic_length"},n.createElement("label",null,"Show"," ",n.createElement("select",{name:"datatable-basic_length","aria-controls":"datatable-basic",className:"form-control form-control-sm",onChange:function(e){return t(+e.target.value,1)}},n.createElement("option",{value:"10"},"10"),n.createElement("option",{value:"25"},"25"),n.createElement("option",{value:"50"},"50"),n.createElement("option",{value:"100"},"100"))," ","entries."))}})}),[t,a,s,p]);return a?Z?n.createElement("p",{className:"text-red"},P):n.createElement(o.ZP,{keyField:"nodeId",data:null!=w?w:[],columns:C,search:!0},(function(e){return n.createElement("div",{className:"py-4"},g&&n.createElement("div",{className:"dataTables_filter px-4 pb-1"},n.createElement("label",null,"Search:",n.createElement(h,f({className:"form-control-sm",placeholder:""},e.searchProps)))),n.createElement(r.Z,f({},e.baseProps,{bootstrap4:!0,pagination:R,filter:(0,c.ZP)(),bordered:!1,defaultSorted:[S],selectRow:D})))})):n.createElement(d.Z,{color:"warning"},"Select a pathway to view its nodes.")}}}]);
//# sourceMappingURL=668.js.map?id=fd8c9a75813dcc27c306