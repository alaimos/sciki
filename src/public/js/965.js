(self.webpackChunk=self.webpackChunk||[]).push([[965,395],{39965:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var n=a(67294),r=a(10267),l=a(51252),c=a(56941),o=a(38089),s=a(91121),i=a(82669),u=a(67954),m=a(609),d=a(97975),h=a(55302),p=a(31395),f=a(74855),b=(a(68236),function(){return(b=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),E=function(e,t){for(var a=0,n=t.length,r=e.length;a<n;a++,r++)e[r]=t[a];return e};const g=function(e){var t=e.simulation,a=e.canEditPages,g=e.onSelect,y=e.onView,v=(0,n.useState)(""),w=v[0],x=v[1],S=(0,n.useState)(!1),N=S[0],k=S[1],F=(0,n.useState)([]),P=F[0],Z=F[1],C=(0,n.useState)({plugin:"@Simulations:PathwaysTable",simulation:t,pathways:[],sortable:!0,filterable:!0,defaultSorting:{dataField:"pathwayFDR",order:"asc"}}),D=C[0],A=C[1],I=a?function(e){Z((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):E(E([],t),[e])})),g&&e&&g(e)}:void 0;return(0,n.useEffect)((function(){var e=N&&P.length>0?b(b({},D),{pathways:P}):D;x("```SciKi\n"+JSON.stringify(e,void 0,2)+"\n```")}),[x,t,D,N,P]),n.createElement(n.Fragment,null,n.createElement(r.Z,null,n.createElement(l.Z,{xs:"12",xl:a?8:12},n.createElement(p.default,b({},D,{onSelect:I,onView:y,enableId:!0}))),a&&n.createElement(l.Z,{xs:"12",xl:"4"},n.createElement(c.Z,{className:"bg-gradient-dark shadow mb-2"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Edit Plugin")),n.createElement(s.Z,{className:"text-white-50"},n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-pathways",checked:N,disabled:0===P.length,type:"checkbox",onChange:function(e){return k(e.target.checked)}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-pathways"},"Show only selected pathways? (The editor will not reflect this change)")),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-filterable",checked:D.filterable,type:"checkbox",onChange:function(e){return A((function(t){return b(b({},t),{filterable:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-filterable"},"Enable search?")),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-sortable",checked:D.sortable,type:"checkbox",onChange:function(e){return A((function(t){return b(b({},t),{sortable:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-sortable"},"Enable sorting?")),D.sortable&&n.createElement(n.Fragment,null,n.createElement(i.Z,null,n.createElement(u.Z,{for:"input-sortBy"},"Sorting"),n.createElement(r.Z,null,n.createElement(l.Z,{xs:6},n.createElement(m.Z,{id:"input-sortBy",type:"select",value:D.defaultSorting.dataField,onChange:function(e){return A((function(t){return b(b({},t),{defaultSorting:b(b({},t.defaultSorting),{dataField:e.target.value})})}))}},n.createElement("option",{value:"pathwayId"},"Id"),n.createElement("option",{value:"pathwayName"},"Name"),n.createElement("option",{value:"pathwayActivityScore"},"Activity Score"),n.createElement("option",{value:"averagePathwayPerturbation"},"Perturbation"),n.createElement("option",{value:"pathwayPValue"},"p-value"),n.createElement("option",{value:"pathwayFDR"},"FDR"))),n.createElement(l.Z,{xs:6},n.createElement(m.Z,{id:"input-sortDirection",type:"select",value:D.defaultSorting.order,onChange:function(e){return A((function(t){return b(b({},t),{defaultSorting:b(b({},t.defaultSorting),{order:e.target.value})})}))}},n.createElement("option",{value:"asc"},"ASC"),n.createElement("option",{value:"desc"},"DESC")))))))),n.createElement(c.Z,{className:"bg-gradient-dark shadow"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Get the code"),n.createElement(f.CopyToClipboard,{text:w},n.createElement(d.Z,{className:"btn btn-sm btn-link",id:"get-code-tooltip",type:"button"},n.createElement("i",{className:"fas fa-clipboard"}))),n.createElement(h.Z,{delay:0,trigger:"hover focus",target:"get-code-tooltip"},"Copy To Clipboard"))),n.createElement(s.Z,null,n.createElement("code",{className:"text-wrap"},n.createElement("pre",{className:"text-white-50",style:{maxHeight:"150px",overflowX:"auto"}},w)))))))}},31395:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(67294),r=a(99551),l=a(814),c=a(14951),o=a(29802),s=a(9669),i=a.n(s),u=a(88129),m=a.n(u),d=(a(59201),a(12313),a(82106),function(){return(d=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),h=o.ol.SearchBar;const p=function(e){var t=e.simulation,a=e.pathways,s=e.sortable,u=void 0===s||s,p=e.filterable,f=void 0===p||p,b=e.enableId,E=void 0!==b&&b,g=e.defaultSorting,y=void 0===g?{dataField:"pathwayFDR",order:"asc"}:g,v=e.onSelect,w=e.onView,x=(0,n.useState)({data:void 0}),S=x[0],N=x[1],k=S.data,F=S.error,P=S.message;(0,n.useEffect)((function(){var e=a?{pathways:a}:{};i().post(m()("simulations.plugins.pathwaysTable",t),e).then((function(e){var t=e.data;N({data:Object.values(t)})})).catch((function(e){N({error:!0,message:e.message})}))}),[t,a]);var Z=[{dataField:"pathwayName",text:"Name",sort:u,classes:"text-truncate"},{dataField:"pathwayActivityScore",text:"Activity Score",sort:u,classes:"text-truncate",formatter:function(e,t){return t.pathwayActivityScore.toFixed(4)}},{dataField:"averagePathwayPerturbation",text:"Perturbation",sort:u,classes:"text-truncate",formatter:function(e,t){return t.averagePathwayPerturbation.toFixed(4)}},{dataField:"pathwayPValue",text:"p-value",sort:u,classes:"text-truncate",formatter:function(e,t){return t.pathwayPValue<1e-4?"< 0.0001":t.pathwayPValue.toFixed(4)}},{dataField:"pathwayFDR",text:"FDR",sort:u,classes:"text-truncate",formatter:function(e,t){return t.pathwayPValue<1e-4?"< 0.0001":t.pathwayFDR.toFixed(4)}}];E&&Z.unshift({dataField:"pathwayId",text:"Id",sort:u}),w&&Z.push({dataField:"view",isDummyField:!0,text:"",headerStyle:{width:"60px"},formatter:function(e,t){return n.createElement("a",{className:"btn btn-sm btn-link",href:"#",onClick:function(e){e.preventDefault(),e.stopPropagation(),w(t.pathwayId)}},n.createElement("i",{className:"fas fa-eye fa-fw"}))}});var C=v?{mode:"checkbox",clickToSelect:!0,hideSelectAll:!0,onSelect:function(e){return v(e.pathwayId)}}:void 0,D=(0,n.useMemo)((function(){return(0,l.ZP)({alwaysShowAllBtns:!0,showTotal:!0,withFirstAndLast:!1,sizePerPageRenderer:function(e){var t=e.onSizePerPageChange;return n.createElement("div",{className:"dataTables_length",id:"datatable-basic_length"},n.createElement("label",null,"Show"," ",n.createElement("select",{name:"datatable-basic_length","aria-controls":"datatable-basic",className:"form-control form-control-sm",onChange:function(e){return t(+e.target.value,1)}},n.createElement("option",{value:"10"},"10"),n.createElement("option",{value:"25"},"25"),n.createElement("option",{value:"50"},"50"),n.createElement("option",{value:"100"},"100"))," ","entries."))}})}),[t,a,u]);return F?n.createElement("p",{className:"text-red"},P):n.createElement(o.ZP,{keyField:"pathwayId",data:null!=k?k:[],columns:Z,search:!0},(function(e){return n.createElement("div",{className:"py-4"},f&&n.createElement("div",{className:"dataTables_filter px-4 pb-1"},n.createElement("label",null,"Search:",n.createElement(h,d({className:"form-control-sm",placeholder:""},e.searchProps)))),n.createElement(r.Z,d({},e.baseProps,{bootstrap4:!0,pagination:D,filter:(0,c.ZP)(),bordered:!1,defaultSorted:[y],selectRow:C})))}))}}}]);
//# sourceMappingURL=965.js.map?id=aab22b588c0ea8445474