(self.webpackChunk=self.webpackChunk||[]).push([[910,719,668,928,373,965,729,879,124,863,85,395,464],{53407:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(67294),r=a(98595),l=a(10267),c=a(51252);const o=function(e){var t=e.headerBg,a=e.title;return n.createElement(n.Fragment,null,n.createElement("div",{className:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center "+(null!=t?t:"bg-gradient-gray-dark")},n.createElement(r.Z,{className:"d-flex align-items-center flex-grow-1",fluid:!0},n.createElement(l.Z,{className:"flex-grow-1"},n.createElement(c.Z,{lg:"7",md:"10"},n.createElement("h1",{className:"display-2 text-white"},null!=a?a:" "))))))}},86329:(e,t,a)=>{"use strict";a.d(t,{b:()=>c});var n=a(67294),r=a(70755),l=function(e,t){for(var a=0,n=t.length,r=e.length;a<n;a++,r++)e[r]=t[a];return e};function c(e,t,a,c){!function(e,t,a){var c=(0,r.P)();(0,n.useEffect)((function(){return c.on(e,t),function(){c.off(e,t)}}),a?l(l([],a),[t]):a)}(e,(function(e){var n=e.sender;a&&("string"==typeof a&&n===a||a.includes(n))&&t(e)}),c?l(l([],c),[t,a]):c)}},77719:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var n=a(67294),r=a(10267),l=a(51252),c=a(56941),o=a(38089),i=a(91121),s=a(82669),u=a(67954),m=a(609),d=a(17354),p=a(69618),f=a(88822),h=a(51566),g=a(97975),E=a(55302),b=a(74855),v=a(96178),y=a(50879),x=a(9669),N=a.n(x),w=a(88129),Z=a.n(w),k=(a(6855),function(){return(k=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),S=function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function c(e){try{i(n.next(e))}catch(e){l(e)}}function o(e){try{i(n.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}i((n=n.apply(e,t||[])).next())}))},C=function(e,t){var a,n,r,l,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,n=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){c=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){c.label=l[1];break}if(6===l[0]&&c.label<r[1]){c.label=r[1],r=l;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(l);break}r[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],n=0}finally{a=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}},P=function(e,t){for(var a=0,n=t.length,r=e.length;a<n;a++,r++)e[r]=t[a];return e};const F=function(e){var t,a=e.simulation,x=e.canEditPages,w=e.onIdChange,F=(0,n.useRef)(null),O=(0,n.useState)(!1),T=O[0],j=O[1],B=(0,n.useState)([]),D=B[0],I=B[1],R=(0,n.useState)([]),A=R[0],M=R[1],G=(0,n.useState)(""),_=G[0],H=G[1],z=(0,n.useState)({plugin:"@Simulations:CorrelationGraph",id:"corr-graph-"+Math.random().toString(36).substr(2,10),simulation:a,fn:"pearson",top:!1,n:10,direction:"negative",useEndpoints:!0,usePerturbation:!1,findByTags:[],searchMode:"all",title:"",height:600}),V=z[0],L=z[1];(0,n.useEffect)((function(){w(V.id)}),[V.id]);var W=function(){var e;if(D&&D.length>0){var t=D[0];t&&(L((function(e){return k(k({},e),{findByTags:P(P([],e.findByTags.filter((function(e){return e!==t}))),[t])})})),null===(e=F.current)||void 0===e||e.clear())}},K=function(e){return function(t){t.preventDefault(),L((function(t){return k(k({},t),{findByTags:P([],t.findByTags.filter((function(t){return t!==e})))})}))}};return(0,n.useEffect)((function(){H("```SciKi\n"+JSON.stringify(V,void 0,2)+"\n```")}),[H,a,V]),n.createElement(n.Fragment,null,n.createElement(r.Z,null,n.createElement(l.Z,{xs:"12",xl:"8"},n.createElement(y.default,k({},V))),n.createElement(l.Z,{xs:"12",xl:"4",className:"d-flex flex-column"},n.createElement(c.Z,{className:"bg-gradient-dark shadow mb-2 flex-grow-1"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Change your graph")),n.createElement(i.Z,{className:"text-white-50"},n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-title"},"Title"),n.createElement(m.Z,{id:"input-title",type:"text",value:V.title,onChange:function(e){return L((function(t){return k(k({},t),{title:e.target.value})}))}})),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-height"},"Height"),n.createElement(m.Z,{id:"input-height",type:"number",value:V.height,onChange:function(e){return L((function(t){return k(k({},t),{height:+e.target.value})}))}})),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-correlation"},"Correlation"),n.createElement(m.Z,{id:"input-correlation",type:"select",value:V.fn,onChange:function(e){return L((function(t){return k(k({},t),{fn:e.target.value})}))}},n.createElement("option",{value:"pearson"},"Pearson"),n.createElement("option",{value:"spearman"},"Spearman"))),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-use-endpoints",checked:V.useEndpoints,type:"checkbox",onChange:function(e){return L((function(t){return k(k({},t),{useEndpoints:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-use-endpoints"},"Compute correlation on Endpoints?")),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-use-perturbation",checked:V.usePerturbation,type:"checkbox",onChange:function(e){return L((function(t){return k(k({},t),{usePerturbation:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-use-perturbation"},"Compute correlation using Perturbation?")),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-top-n",checked:V.top,type:"checkbox",onChange:function(e){return L((function(t){return k(k({},t),{top:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-top-n"},"Show only the top-N results?")),V.top&&n.createElement(n.Fragment,null,n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-number"},"Number of top results"),n.createElement(m.Z,{id:"input-number",type:"number",value:V.n,onChange:function(e){return L((function(t){return k(k({},t),{n:+e.target.value})}))}})),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-direction"},"Direction"),n.createElement(m.Z,{id:"input-direction",type:"select",value:V.direction,onChange:function(e){return L((function(t){return k(k({},t),{direction:e.target.value})}))}},n.createElement("option",{value:"positive"},"Top-N positive"),n.createElement("option",{value:"negative"},"Top-N negative")))))))),n.createElement(r.Z,null,n.createElement(l.Z,{xs:"12",xl:x?"8":"12"},n.createElement(c.Z,{className:"bg-gradient-dark shadow flex-grow-1"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Add columns")),n.createElement(i.Z,null,n.createElement("div",{className:"d-flex flex-row justify-content-start align-items-center text-sm text-white-50 flex-wrap"},n.createElement("div",null,"Compare with simulations having"),n.createElement(m.Z,{type:"select",value:null!==(t=V.searchMode)&&void 0!==t?t:"all",className:"form-control-sm mx-2",style:{width:"auto"},onChange:function(e){return L((function(t){return k(k({},t),{searchMode:e.target.value})}))}},n.createElement("option",{value:"all"},"all"),n.createElement("option",{value:"any"},"any")),n.createElement("div",null,"tags:")),n.createElement(r.Z,null,n.createElement(l.Z,{style:{height:"100px"},className:"overflow-auto"},V.findByTags.map((function(e){return n.createElement(d.Z,{key:e,className:"badge-default mx-1 text-light",href:"#",onClick:K(e),title:"Click to delete"},e)})))),n.createElement(r.Z,{className:"mt-2"},n.createElement(l.Z,null,n.createElement(p.Z,null,n.createElement(v.Wf,{filterBy:function(){return!0},id:"tags-add-tag-input",isLoading:T,options:A,onSearch:function(e){return S(void 0,void 0,void 0,(function(){var t;return C(this,(function(a){switch(a.label){case 0:j(!0),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,N().post(Z()("tag.typeahead"),{query:e})];case 2:return t=a.sent(),M(t.data),[3,4];case 3:return a.sent(),M([]),[3,4];case 4:return j(!1),[2]}}))}))},onChange:function(e){return I(e)},onKeyDown:function(e){var t=e;"Enter"!==t.code&&"NumpadEnter"!==t.code||W()},selected:D,minLength:3,className:"text-dark",placeholder:"Add new tag (category: tag)",ref:F}),n.createElement(f.Z,{addonType:"append"},n.createElement(h.Z,null,n.createElement("a",{className:"text-primary",href:"#",onClick:function(e){e.preventDefault(),W()}},n.createElement("i",{className:"fas fa-plus"})))))))))),x&&n.createElement(l.Z,{xs:"12",xl:"4"},n.createElement(c.Z,{className:"bg-gradient-dark shadow flex-grow-1"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Get the code"),n.createElement(b.CopyToClipboard,{text:_},n.createElement(g.Z,{className:"btn btn-sm btn-link",id:"get-code-tooltip",type:"button"},n.createElement("i",{className:"fas fa-clipboard"}))),n.createElement(E.Z,{delay:0,trigger:"hover focus",target:"get-code-tooltip"},"Copy To Clipboard"))),n.createElement(i.Z,null,n.createElement("code",{className:"text-wrap"},n.createElement("pre",{className:"text-white-50",style:{maxHeight:"150px",overflowX:"auto"}},_)))))))}},19668:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var n=a(67294),r=a(10267),l=a(51252),c=a(56941),o=a(38089),i=a(91121),s=a(82669),u=a(67954),m=a(609),d=a(97975),p=a(55302),f=a(74855),h=(a(68236),a(26124)),g=function(){return(g=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},E=function(e,t){for(var a=0,n=t.length,r=e.length;a<n;a++,r++)e[r]=t[a];return e};const b=function(e){var t=e.simulation,a=e.pathway,b=e.canEditPages,v=e.onSelect,y=(0,n.useState)(""),x=y[0],N=y[1],w=(0,n.useState)(!1),Z=w[0],k=w[1],S=(0,n.useState)([]),C=S[0],P=S[1],F=(0,n.useState)({plugin:"@Simulations:NodesTable",simulation:t,pathway:a,nodes:[],sortable:!0,filterable:!0,defaultSorting:{dataField:"FDR",order:"asc"}}),O=F[0],T=F[1],j=b?function(e){P((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):E(E([],t),[e])})),v&&a&&v(e,a)}:void 0;return(0,n.useEffect)((function(){var e=Z&&C.length>0?g(g({},O),{nodes:C}):O;N("```SciKi\n"+JSON.stringify(e,void 0,2)+"\n```")}),[N,t,O,Z,C]),n.createElement(n.Fragment,null,n.createElement(r.Z,null,n.createElement(l.Z,{xs:"12",xl:b?8:12},n.createElement(h.default,g({},O,{onSelect:j,enableId:!0}))),b&&n.createElement(l.Z,{xs:"12",xl:"4"},n.createElement(c.Z,{className:"bg-gradient-dark shadow mb-2"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Edit Plugin")),n.createElement(i.Z,{className:"text-white-50"},n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-nodes",checked:Z,disabled:0===C.length,type:"checkbox",onChange:function(e){return k(e.target.checked)}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-nodes"},"Show only selected nodes? (The editor will not reflect this change)")),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-filterable",checked:O.filterable,type:"checkbox",onChange:function(e){return T((function(t){return g(g({},t),{filterable:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-filterable"},"Enable search?")),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-sortable",checked:O.sortable,type:"checkbox",onChange:function(e){return T((function(t){return g(g({},t),{sortable:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-sortable"},"Enable sorting?")),O.sortable&&n.createElement(n.Fragment,null,n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-sortBy"},"Sorting"),n.createElement(r.Z,null,n.createElement(l.Z,{xs:6},n.createElement(m.Z,{id:"input-sortBy",type:"select",value:O.defaultSorting.dataField,onChange:function(e){return T((function(t){return g(g({},t),{defaultSorting:g(g({},t.defaultSorting),{dataField:e.target.value})})}))}},n.createElement("option",{value:"nodeId"},"Id"),n.createElement("option",{value:"nodeName"},"Name"),n.createElement("option",{value:"activityScore"},"Activity Score"),n.createElement("option",{value:"averagePerturbation"},"Perturbation"),n.createElement("option",{value:"pValue"},"p-value"),n.createElement("option",{value:"FDR"},"FDR"))),n.createElement(l.Z,{xs:6},n.createElement(m.Z,{id:"input-sortDirection",type:"select",value:O.defaultSorting.order,onChange:function(e){return T((function(t){return g(g({},t),{defaultSorting:g(g({},t.defaultSorting),{order:e.target.value})})}))}},n.createElement("option",{value:"asc"},"ASC"),n.createElement("option",{value:"desc"},"DESC")))))))),n.createElement(c.Z,{className:"bg-gradient-dark shadow"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Get the code"),n.createElement(f.CopyToClipboard,{text:x},n.createElement(d.Z,{className:"btn btn-sm btn-link",id:"get-code-tooltip",type:"button"},n.createElement("i",{className:"fas fa-clipboard"}))),n.createElement(p.Z,{delay:0,trigger:"hover focus",target:"get-code-tooltip"},"Copy To Clipboard"))),n.createElement(i.Z,null,n.createElement("code",{className:"text-wrap"},n.createElement("pre",{className:"text-white-50",style:{maxHeight:"150px",overflowX:"auto"}},x)))))))}},85928:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var n=a(67294),r=a(10267),l=a(51252),c=a(56941),o=a(38089),i=a(91121),s=a(82669),u=a(67954),m=a(609),d=a(97975),p=a(55302),f=a(74855),h=function(){return(h=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function g(e,t){return Object.keys(e).filter((function(e){return t(e)})).reduce((function(t,a){var n;return h(h({},t),((n={})[a]=e[a],n))}),{})}var E=a(78863),b=a(86329),v=function(){return(v=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};const y=function(e){var t=e.simulation,a=e.canEditPages,h=e.correlationGraphId,y=(0,n.useState)(""),x=y[0],N=y[1],w=(0,n.useState)(!1),Z=w[0],k=w[1],S=(0,n.useState)({plugin:"@Simulations:PartialCorrelationGraph",id:"partial-corr-graph-"+Math.random().toString(36).substr(2,10),simulation:t,fn:"pearson",top:!1,n:10,direction:"negative",useEndpoints:!0,usePerturbation:!1,title:"",height:600}),C=S[0],P=S[1];return(0,b.b)("onCorrelationGraphBarClick",(function(e){P((function(t){return v(v({},t),g(e,(function(e){return"sender"!==e})))}))}),h,[P]),(0,n.useEffect)((function(){var e=g(C,(function(e){return!Z||!["compareWith","fn","useEndpoints","usePerturbation"].includes(e)}));Z&&(e.connectedTo=h),N("```SciKi\n"+JSON.stringify(e,void 0,2)+"\n```")}),[N,t,C,Z,h]),n.createElement(n.Fragment,null,n.createElement(r.Z,null,n.createElement(l.Z,{xs:"12",xl:"8"},n.createElement(E.default,v({},C,{connectedTo:h}))),n.createElement(l.Z,{xs:"12",xl:"4",className:"d-flex flex-column"},n.createElement(c.Z,{className:"bg-gradient-dark shadow mb-2 flex-grow-1"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Change your graph")),n.createElement(i.Z,{className:"text-white-50"},n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-title-pcorr"},"Title"),n.createElement(m.Z,{id:"input-title-pcorr",type:"text",value:C.title,onChange:function(e){return P((function(t){return v(v({},t),{title:e.target.value})}))}})),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-height-pcorr"},"Height"),n.createElement(m.Z,{id:"input-height-pcorr",type:"number",value:C.height,onChange:function(e){return P((function(t){return v(v({},t),{height:+e.target.value})}))}})),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-is-connected",checked:Z,type:"checkbox",onChange:function(e){return k(e.target.checked)}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-is-connected"},"Link to the correlation graph?"+(a?" (If you\n                                    enable this option do not close the page\n                                    until you copied the code for both\n                                    correlation graph and detail graph).":""))),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-top-n-pcorr",checked:C.top,type:"checkbox",onChange:function(e){return P((function(t){return v(v({},t),{top:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-top-n-pcorr"},"Show only the top-N results?")),C.top&&n.createElement(n.Fragment,null,n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-number-pcorr"},"Number of top results"),n.createElement(m.Z,{id:"input-number-pcorr",type:"number",value:C.n,onChange:function(e){return P((function(t){return v(v({},t),{n:+e.target.value})}))}})),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-direction-pcorr"},"Direction"),n.createElement(m.Z,{id:"input-direction-pcorr",type:"select",value:C.direction,onChange:function(e){return P((function(t){return v(v({},t),{direction:e.target.value})}))}},n.createElement("option",{value:"both"},"Both"),n.createElement("option",{value:"positive"},"Top-N positive"),n.createElement("option",{value:"negative"},"Top-N negative")))))),a&&n.createElement(c.Z,{className:"bg-gradient-dark shadow flex-grow-1"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Get the code"),n.createElement(f.CopyToClipboard,{text:x},n.createElement(d.Z,{className:"btn btn-sm btn-link",id:"get-code-tooltip",type:"button"},n.createElement("i",{className:"fas fa-clipboard"}))),n.createElement(p.Z,{delay:0,trigger:"hover focus",target:"get-code-tooltip"},"Copy To Clipboard"))),n.createElement(i.Z,null,n.createElement("code",{className:"text-wrap"},n.createElement("pre",{className:"text-white-50",style:{maxHeight:"150px",overflowX:"auto"}},x)))))))}},91373:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var n=a(67294),r=a(10267),l=a(51252),c=a(56941),o=a(38089),i=a(91121),s=a(82669),u=a(67954),m=a(609),d=a(97975),p=a(55302),f=a(74855),h=(a(68236),a(93085)),g=function(){return(g=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};const E=function(e){var t=e.simulation,a=e.pathway,E=e.canEditPages,b=e.pathwaysToNames,v=(0,n.useState)(""),y=v[0],x=v[1],N=(0,n.useState)({plugin:"@Simulations:PathwayImage",simulation:t,pathway:a,legend:a?b[a]:"",position:"center"}),w=N[0],Z=N[1];return(0,n.useEffect)((function(){x("```SciKi\n"+JSON.stringify(w,void 0,2)+"\n```")}),[x,t,w]),n.createElement(n.Fragment,null,n.createElement(r.Z,null,n.createElement(l.Z,{xs:"12",xl:E?8:12},n.createElement(h.default,g({},w))),E&&n.createElement(l.Z,{xs:"12",xl:"4"},n.createElement(c.Z,{className:"bg-gradient-dark shadow mb-2"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Edit Plugin")),n.createElement(i.Z,{className:"text-white-50"},n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-legend"},"Legend"),n.createElement(m.Z,{id:"input-legend",type:"text",value:w.legend,onChange:function(e){return Z((function(t){return g(g({},t),{legend:e.target.value})}))}})),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-position"},"Position"),n.createElement(m.Z,{id:"input-position",type:"select",value:w.position,onChange:function(e){return Z((function(t){return g(g({},t),{position:e.target.value})}))}},n.createElement("option",{value:"left"},"Left"),n.createElement("option",{value:"center"},"Center"),n.createElement("option",{value:"right"},"Right"))))),n.createElement(c.Z,{className:"bg-gradient-dark shadow"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Get the code"),n.createElement(f.CopyToClipboard,{text:y},n.createElement(d.Z,{className:"btn btn-sm btn-link",id:"get-code-tooltip",type:"button"},n.createElement("i",{className:"fas fa-clipboard"}))),n.createElement(p.Z,{delay:0,trigger:"hover focus",target:"get-code-tooltip"},"Copy To Clipboard"))),n.createElement(i.Z,null,n.createElement("code",{className:"text-wrap"},n.createElement("pre",{className:"text-white-50",style:{maxHeight:"150px",overflowX:"auto"}},y)))))))}},39965:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var n=a(67294),r=a(10267),l=a(51252),c=a(56941),o=a(38089),i=a(91121),s=a(82669),u=a(67954),m=a(609),d=a(97975),p=a(55302),f=a(31395),h=a(74855),g=(a(68236),function(){return(g=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),E=function(e,t){for(var a=0,n=t.length,r=e.length;a<n;a++,r++)e[r]=t[a];return e};const b=function(e){var t=e.simulation,a=e.canEditPages,b=e.onSelect,v=e.onView,y=(0,n.useState)(""),x=y[0],N=y[1],w=(0,n.useState)(!1),Z=w[0],k=w[1],S=(0,n.useState)([]),C=S[0],P=S[1],F=(0,n.useState)({plugin:"@Simulations:PathwaysTable",simulation:t,pathways:[],sortable:!0,filterable:!0,defaultSorting:{dataField:"pathwayFDR",order:"asc"}}),O=F[0],T=F[1],j=a?function(e){P((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):E(E([],t),[e])})),b&&e&&b(e)}:void 0;return(0,n.useEffect)((function(){var e=Z&&C.length>0?g(g({},O),{pathways:C}):O;N("```SciKi\n"+JSON.stringify(e,void 0,2)+"\n```")}),[N,t,O,Z,C]),n.createElement(n.Fragment,null,n.createElement(r.Z,null,n.createElement(l.Z,{xs:"12",xl:a?8:12},n.createElement(f.default,g({},O,{onSelect:j,onView:v,enableId:!0}))),a&&n.createElement(l.Z,{xs:"12",xl:"4"},n.createElement(c.Z,{className:"bg-gradient-dark shadow mb-2"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Edit Plugin")),n.createElement(i.Z,{className:"text-white-50"},n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-pathways",checked:Z,disabled:0===C.length,type:"checkbox",onChange:function(e){return k(e.target.checked)}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-pathways"},"Show only selected pathways? (The editor will not reflect this change)")),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-filterable",checked:O.filterable,type:"checkbox",onChange:function(e){return T((function(t){return g(g({},t),{filterable:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-filterable"},"Enable search?")),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-sortable",checked:O.sortable,type:"checkbox",onChange:function(e){return T((function(t){return g(g({},t),{sortable:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-sortable"},"Enable sorting?")),O.sortable&&n.createElement(n.Fragment,null,n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-sortBy"},"Sorting"),n.createElement(r.Z,null,n.createElement(l.Z,{xs:6},n.createElement(m.Z,{id:"input-sortBy",type:"select",value:O.defaultSorting.dataField,onChange:function(e){return T((function(t){return g(g({},t),{defaultSorting:g(g({},t.defaultSorting),{dataField:e.target.value})})}))}},n.createElement("option",{value:"pathwayId"},"Id"),n.createElement("option",{value:"pathwayName"},"Name"),n.createElement("option",{value:"pathwayActivityScore"},"Activity Score"),n.createElement("option",{value:"averagePathwayPerturbation"},"Perturbation"),n.createElement("option",{value:"pathwayPValue"},"p-value"),n.createElement("option",{value:"pathwayFDR"},"FDR"))),n.createElement(l.Z,{xs:6},n.createElement(m.Z,{id:"input-sortDirection",type:"select",value:O.defaultSorting.order,onChange:function(e){return T((function(t){return g(g({},t),{defaultSorting:g(g({},t.defaultSorting),{order:e.target.value})})}))}},n.createElement("option",{value:"asc"},"ASC"),n.createElement("option",{value:"desc"},"DESC")))))))),n.createElement(c.Z,{className:"bg-gradient-dark shadow"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Get the code"),n.createElement(h.CopyToClipboard,{text:x},n.createElement(d.Z,{className:"btn btn-sm btn-link",id:"get-code-tooltip",type:"button"},n.createElement("i",{className:"fas fa-clipboard"}))),n.createElement(p.Z,{delay:0,trigger:"hover focus",target:"get-code-tooltip"},"Copy To Clipboard"))),n.createElement(i.Z,null,n.createElement("code",{className:"text-wrap"},n.createElement("pre",{className:"text-white-50",style:{maxHeight:"150px",overflowX:"auto"}},x)))))))}},25729:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var n=a(67294),r=a(10267),l=a(51252),c=a(56941),o=a(38089),i=a(91121),s=a(82669),u=a(67954),m=a(609),d=a(17354),p=a(69618),f=a(88822),h=a(51566),g=a(97975),E=a(55302),b=a(74855),v=(a(68236),a(89464)),y=a(96178),x=a(9669),N=a.n(x),w=a(88129),Z=a.n(w),k=(a(6855),function(){return(k=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),S=function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function c(e){try{i(n.next(e))}catch(e){l(e)}}function o(e){try{i(n.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}i((n=n.apply(e,t||[])).next())}))},C=function(e,t){var a,n,r,l,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,n=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){c=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){c.label=l[1];break}if(6===l[0]&&c.label<r[1]){c.label=r[1],r=l;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(l);break}r[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],n=0}finally{a=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}},P=function(e,t){for(var a=0,n=t.length,r=e.length;a<n;a++,r++)e[r]=t[a];return e};const F=function(e){var t,a,x,w,F=e.simulation,O=e.canEditPages,T=e.selectedPathways,j=e.selectedNodes,B=(0,n.useRef)(null),D=(0,n.useState)(!1),I=D[0],R=D[1],A=(0,n.useState)([]),M=A[0],G=A[1],_=(0,n.useState)([]),H=_[0],z=_[1],V=Object.values(j).flatMap((function(e){return e})),L=(0,n.useState)(""),W=L[0],K=L[1],J=(0,n.useState)({plugin:"@Simulations:SimulationHeatmap",simulation:F,type:"pathways",mode:"top",sortBy:"perturbation",n:10,absolute:!1,limit:"none",attach:{tags:[],mode:"all",simulations:[]},title:"",height:600}),X=J[0],q=J[1],Y="pathways"===X.type?T:V,Q=0===Y.length,U=Q?" (Select at least one "+("pathways"===X.type?"pathway":"node")+" to enable)":"",$=function(){var e;if(M&&M.length>0){var t=M[0];t&&(q((function(e){return k(k({},e),{attach:k(k({},e.attach),{tags:P(P([],e.attach.tags.filter((function(e){return e!==t}))),[t])})})})),null===(e=B.current)||void 0===e||e.clear())}},ee=function(e){return function(t){t.preventDefault(),q((function(t){return k(k({},t),{attach:k(k({},t.attach),{tags:P([],t.attach.tags.filter((function(t){return t!==e})))})})}))}};return(0,n.useEffect)((function(){K("```SciKi\n"+JSON.stringify(k(k({},X),{selection:"selected"===X.mode?Y:void 0}),void 0,2)+"\n```")}),[K,F,X,Y]),n.createElement(n.Fragment,null,n.createElement(r.Z,null,n.createElement(l.Z,{xs:"12",xl:"8"},n.createElement(v.default,k({},X,{selection:"selected"===X.mode?Y:void 0}))),n.createElement(l.Z,{xs:"12",xl:"4",className:"d-flex flex-column"},n.createElement(c.Z,{className:"bg-gradient-dark shadow mb-2 flex-grow-1"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Change your heatmap")),n.createElement(i.Z,{className:"text-white-50"},n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-title"},"Title"),n.createElement(m.Z,{id:"input-title",type:"text",value:X.title,onChange:function(e){return q((function(t){return k(k({},t),{title:e.target.value})}))}})),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-height"},"Height"),n.createElement(m.Z,{id:"input-height",type:"number",value:X.height,onChange:function(e){return q((function(t){return k(k({},t),{height:+e.target.value})}))}})),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-type"},"Type"),n.createElement(m.Z,{id:"input-type",type:"select",value:X.type,onChange:function(e){return q((function(t){return k(k({},t),{type:"pathways"===e.target.value?"pathways":"nodes"})}))}},n.createElement("option",{value:"pathways"},"Pathways"),n.createElement("option",{value:"nodes"},"Nodes"))),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-sortBy"},"Sort by"),n.createElement(m.Z,{id:"input-sortBy",type:"select",value:X.sortBy,onChange:function(e){return q((function(t){return k(k({},t),{sortBy:"perturbation"===e.target.value?"perturbation":"activity"})}))}},n.createElement("option",{value:"perturbation"},"Perturbation"),n.createElement("option",{value:"activity"},"Activity"))),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-mode"},"Mode"),n.createElement(m.Z,{id:"input-mode",type:"select",value:X.mode,onChange:function(e){return q((function(t){return k(k({},t),{mode:"top"===e.target.value?"top":"selected"})}))}},n.createElement("option",{value:"top"},"Top-N"),n.createElement("option",{value:"selected",disabled:Q},"Selected"+U))),"top"===X.mode&&n.createElement(n.Fragment,null,n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-number"},"Number of top ",X.type),n.createElement(m.Z,{id:"input-number",type:"number",value:X.n,onChange:function(e){return q((function(t){return k(k({},t),{n:+e.target.value})}))}})),n.createElement("div",{className:"custom-control custom-checkbox mb-3"},n.createElement("input",{className:"custom-control-input",id:"check-absolute",checked:X.absolute,type:"checkbox",onChange:function(e){return q((function(t){return k(k({},t),{absolute:e.target.checked})}))}}),n.createElement("label",{className:"custom-control-label",htmlFor:"check-absolute"},"Sort by absolute value?")),n.createElement(s.Z,null,n.createElement(u.Z,{for:"input-limit"},"Limit selection"),n.createElement(m.Z,{id:"input-limit",type:"select",value:X.limit,onChange:function(e){return q((function(t){return k(k({},t),{limit:e.target.value})}))}},n.createElement("option",{value:"none"},"None"),n.createElement("option",{value:"positive"},"Positive values"),n.createElement("option",{value:"negative"},"Negative values")))))))),n.createElement(r.Z,null,n.createElement(l.Z,{xs:"12",xl:O?"8":"12"},n.createElement(c.Z,{className:"bg-gradient-dark shadow flex-grow-1"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Add columns")),n.createElement(i.Z,null,n.createElement("div",{className:"d-flex flex-row justify-content-start align-items-center text-sm text-white-50 flex-wrap"},n.createElement("div",null,"Add a column for each simulation having"),n.createElement(m.Z,{type:"select",value:null!==(a=null===(t=X.attach)||void 0===t?void 0:t.mode)&&void 0!==a?a:"all",className:"form-control-sm mx-2",style:{width:"auto"},onChange:function(e){return q((function(t){return k(k({},t),{attach:k(k({},X.attach),{mode:"all"===e.target.value?"all":"any"})})}))}},n.createElement("option",{value:"all"},"all"),n.createElement("option",{value:"any"},"any")),n.createElement("div",null,"tags:")),n.createElement(r.Z,null,n.createElement(l.Z,{style:{height:"100px"},className:"overflow-auto"},null===(w=null===(x=X.attach)||void 0===x?void 0:x.tags)||void 0===w?void 0:w.map((function(e){return n.createElement(d.Z,{key:e,className:"badge-default mx-1 text-light",href:"#",onClick:ee(e),title:"Click to delete"},e)})))),n.createElement(r.Z,{className:"mt-2"},n.createElement(l.Z,null,n.createElement(p.Z,null,n.createElement(y.Wf,{filterBy:function(){return!0},id:"tags-add-tag-input",isLoading:I,options:H,onSearch:function(e){return S(void 0,void 0,void 0,(function(){var t;return C(this,(function(a){switch(a.label){case 0:R(!0),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,N().post(Z()("tag.typeahead"),{query:e})];case 2:return t=a.sent(),z(t.data),[3,4];case 3:return a.sent(),z([]),[3,4];case 4:return R(!1),[2]}}))}))},onChange:function(e){return G(e)},onKeyDown:function(e){var t=e;"Enter"!==t.code&&"NumpadEnter"!==t.code||$()},selected:M,minLength:3,className:"text-dark",placeholder:"Add new tag (category: tag)",ref:B}),n.createElement(f.Z,{addonType:"append"},n.createElement(h.Z,null,n.createElement("a",{className:"text-primary",href:"#",onClick:function(e){e.preventDefault(),$()}},n.createElement("i",{className:"fas fa-plus"})))))))))),O&&n.createElement(l.Z,{xs:"12",xl:"4"},n.createElement(c.Z,{className:"bg-gradient-dark shadow flex-grow-1"},n.createElement(o.Z,{className:"bg-transparent"},n.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Get the code"),n.createElement(b.CopyToClipboard,{text:W},n.createElement(g.Z,{className:"btn btn-sm btn-link",id:"get-code-tooltip",type:"button"},n.createElement("i",{className:"fas fa-clipboard"}))),n.createElement(E.Z,{delay:0,trigger:"hover focus",target:"get-code-tooltip"},"Copy To Clipboard"))),n.createElement(i.Z,null,n.createElement("code",{className:"text-wrap"},n.createElement("pre",{className:"text-white-50",style:{maxHeight:"150px",overflowX:"auto"}},W)))))))}},46910:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var n=a(67294),r=a(96486),l=a(53407),c=a(98595),o=a(10267),i=a(51252),s=a(77243),u=a(53999),m=a(98008),d=a(56941),p=a(91121),f=a(38089),h=a(39965),g=a(94184),E=a.n(g),b=a(19668),v=a(91373),y=a(25729),x=a(77719),N=a(85928),w=function(){return(w=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Z=function(e,t){for(var a=0,n=t.length,r=e.length;a<n;a++,r++)e[r]=t[a];return e};const k=function(e){var t=e.simulation,a=e.capabilities.pages.update,g=e.pathwaysToNames,k=(0,n.useState)(1),S=k[0],C=k[1],P=(0,n.useState)(),F=P[0],O=P[1],T=(0,n.useState)([]),j=T[0],B=T[1],D=(0,n.useState)({}),I=D[0],R=D[1],A=(0,n.useState)(),M=A[0],G=A[1],_=function(e){return function(t){t.preventDefault(),C(e)}},H=a?function(e){B((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):Z(Z([],t),[e])}))}:void 0,z=a?function(e,t){R((function(a){var n,l,c=(0,r.get)(a,t,[]);return c.includes(e)?w(w({},a),((n={})[t]=c.filter((function(t){return t!==e})),n)):w(w({},a),((l={})[t]=Z(Z([],c),[e]),l))}))}:void 0;return n.createElement(n.Fragment,null,n.createElement(l.Z,{title:t.name}),n.createElement(c.Z,{className:"mt--7",fluid:!0},n.createElement(o.Z,{className:"mb-2"},n.createElement(i.Z,null,n.createElement(s.Z,{className:"nav-fill flex-column flex-sm-row",pills:!0,role:"tablist"},n.createElement(u.Z,null,n.createElement(m.Z,{"aria-selected":1===S,className:E()("mb-sm-3 mb-md-0",{active:1===S}),onClick:_(1),href:"#",role:"tab"},"Pathways Table")),F&&n.createElement(u.Z,null,n.createElement(m.Z,{"aria-selected":2===S,className:E()("mb-sm-3 mb-md-0",{active:2===S}),onClick:_(2),href:"#",role:"tab"},"Nodes Table")),n.createElement(u.Z,null,n.createElement(m.Z,{"aria-selected":3===S,className:E()("mb-sm-3 mb-md-0",{active:3===S}),onClick:_(3),href:"#",role:"tab"},"Heatmaps")),n.createElement(u.Z,null,n.createElement(m.Z,{"aria-selected":4===S,className:E()("mb-sm-3 mb-md-0",{active:4===S}),onClick:_(4),href:"#",role:"tab"},"Correlation"))))),1===S&&n.createElement(d.Z,{className:"shadow"},n.createElement(p.Z,null,n.createElement(h.default,{simulation:t.id,canEditPages:a,onView:function(e){O(e),C(2)},onSelect:H}))),2===S&&n.createElement(n.Fragment,null,n.createElement(d.Z,{className:"shadow mb-2"},n.createElement(f.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase ls-1 mb-1"},"Pathway Image")),n.createElement(p.Z,null,n.createElement(v.default,{simulation:t.id,pathway:F,canEditPages:a,pathwaysToNames:g}))),n.createElement(d.Z,{className:"shadow"},n.createElement(f.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase ls-1 mb-1"},"Details")),n.createElement(p.Z,null,n.createElement(b.default,{simulation:t.id,pathway:F,canEditPages:a,onSelect:z})))),3===S&&n.createElement(d.Z,{className:"shadow"},n.createElement(f.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase ls-1 mb-1"},"Pathway/Nodes heatmap")),n.createElement(p.Z,null,n.createElement(y.default,{simulation:t.id,canEditPages:a,selectedPathways:j,selectedNodes:I}))),4===S&&n.createElement(n.Fragment,null,n.createElement(d.Z,{className:"shadow"},n.createElement(f.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase ls-1 mb-1"},"Correlation graph")),n.createElement(p.Z,null,n.createElement(x.default,{simulation:t.id,canEditPages:a,onIdChange:G}))),n.createElement(d.Z,{className:"shadow"},n.createElement(f.Z,{className:"bg-transparent"},n.createElement("h6",{className:"text-uppercase ls-1 mb-1"},"Correlation details")),n.createElement(p.Z,null,n.createElement(N.default,{simulation:t.id,canEditPages:a,correlationGraphId:M}))))))}},50879:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(67294),r=a(9669),l=a.n(r),c=a(88129),o=a.n(c),i=a(17834),s=a(58660),u=a(70755),m=function(){return(m=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};const d=function(e){var t=e.id,a=e.simulation,r=e.title,c=e.height,d=void 0===c?600:c,p=e.fn,f=void 0===p?"pearson":p,h=e.top,g=void 0!==h&&h,E=e.n,b=void 0===E?10:E,v=e.direction,y=void 0===v?"negative":v,x=e.useEndpoints,N=void 0===x||x,w=e.usePerturbation,Z=void 0!==w&&w,k=e.findByTags,S=e.searchMode,C=void 0===S?"all":S,P=(0,n.useState)({}),F=P[0],O=P[1],T=(0,u.P)(),j=F.data,B=F.error,D=F.message;return(0,n.useEffect)((function(){O({}),k&&k.length>0&&l().post(o()("simulations.plugins.correlation",a),{fn:f,top:g,n:b,direction:y,useEndpoints:N,usePerturbation:Z,findByTags:k,searchMode:C}).then((function(e){var t=e.data;O({data:t})})).catch((function(e){var t;O({error:!0,message:null!==(t=e.response.data.message)&&void 0!==t?t:e.message})}))}),[a,f,g,b,y,N,Z,k,C]),k&&0!==k.length?B?n.createElement("p",{className:"text-red"},D):n.createElement(n.Fragment,null,!!j&&n.createElement(n.Fragment,null,n.createElement("div",{className:"d-flex flex-grow-1"},n.createElement(s.Z,{data:[m(m({},j),{type:"bar",marker:{color:j.y.map((function(e){return(e+1)/2})),cmin:-1,cmax:1,colorscale:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(255,255,255)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],showscale:!0}})],layout:{bargap:0,yaxis:{title:"pearson"===f?"Pearson Correlation":"Spearman Correlation",range:[-1,1]},font:{size:12},autosize:!0,showlegend:!1,title:r},config:{responsive:!0},style:{width:"100%",height:d+"px"},useResizeHandler:!0,onClick:function(e){if(t&&e.points.length>0){var a=e.points[0].customdata;T.dispatch("onCorrelationGraphBarClick",{sender:t,compareWith:a[0],fn:a[1],useEndpoints:!!a[2],usePerturbation:!!a[3]})}}}))),!j&&n.createElement(i.Z,{color:"primary"},n.createElement("i",{className:"fas fa-circle-notch fa-spin mx-2"}),"Building image. Please wait...")):n.createElement(i.Z,{color:"primary"},n.createElement("i",{className:"fas fa-exclamation-circle mx-2"}),"You cannot view any graph until you select at lest two simulations through their tags.")}},26124:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(67294),r=a(99551),l=a(814),c=a(14951),o=a(29802),i=a(9669),s=a.n(i),u=a(88129),m=a.n(u),d=(a(59201),a(12313),a(82106),a(17834)),p=function(){return(p=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},f=o.ol.SearchBar;const h=function(e){var t=e.simulation,a=e.pathway,i=e.nodes,u=e.sortable,h=void 0===u||u,g=e.filterable,E=void 0===g||g,b=e.enableId,v=void 0!==b&&b,y=e.defaultSorting,x=void 0===y?{dataField:"FDR",order:"asc"}:y,N=e.onSelect,w=(0,n.useState)({data:void 0}),Z=w[0],k=w[1],S=Z.data,C=Z.error,P=Z.message;(0,n.useEffect)((function(){if(a){var e=i?{nodes:i}:{};s().post(m()("simulations.plugins.nodesTable",t),p({pathway:a},e)).then((function(e){var t=e.data;k({data:Object.values(t)})})).catch((function(e){k({error:!0,message:e.message})}))}}),[t,i,a]);var F=[{dataField:"nodeName",text:"Name",sort:h,classes:"text-truncate"},{dataField:"activityScore",text:"Activity Score",sort:h,classes:"text-truncate",formatter:function(e,t){return t.activityScore.toFixed(4)}},{dataField:"averagePerturbation",text:"Perturbation",sort:h,classes:"text-truncate",formatter:function(e,t){return t.averagePerturbation.toFixed(4)}},{dataField:"pValue",text:"p-value",sort:h,classes:"text-truncate",formatter:function(e,t){return t.pValue<1e-4?"< 0.0001":t.pValue.toFixed(4)}},{dataField:"FDR",text:"FDR",sort:h,classes:"text-truncate",formatter:function(e,t){return t.FDR<1e-4?"< 0.0001":t.FDR.toFixed(4)}}];v&&F.unshift({dataField:"nodeId",text:"Id",sort:h});var O=N?{mode:"checkbox",clickToSelect:!0,hideSelectAll:!0,onSelect:function(e){return N(e.nodeId)}}:void 0,T=(0,n.useMemo)((function(){return(0,l.ZP)({alwaysShowAllBtns:!0,showTotal:!0,withFirstAndLast:!1,sizePerPageRenderer:function(e){var t=e.onSizePerPageChange;return n.createElement("div",{className:"dataTables_length",id:"datatable-basic_length"},n.createElement("label",null,"Show"," ",n.createElement("select",{name:"datatable-basic_length","aria-controls":"datatable-basic",className:"form-control form-control-sm",onChange:function(e){return t(+e.target.value,1)}},n.createElement("option",{value:"10"},"10"),n.createElement("option",{value:"25"},"25"),n.createElement("option",{value:"50"},"50"),n.createElement("option",{value:"100"},"100"))," ","entries."))}})}),[t,a,i,h]);return a?C?n.createElement("p",{className:"text-red"},P):n.createElement(o.ZP,{keyField:"nodeId",data:null!=S?S:[],columns:F,search:!0},(function(e){return n.createElement("div",{className:"py-4"},E&&n.createElement("div",{className:"dataTables_filter px-4 pb-1"},n.createElement("label",null,"Search:",n.createElement(f,p({className:"form-control-sm",placeholder:""},e.searchProps)))),n.createElement(r.Z,p({},e.baseProps,{bootstrap4:!0,pagination:T,filter:(0,c.ZP)(),bordered:!1,defaultSorted:[x],selectRow:O})))})):n.createElement(d.Z,{color:"warning"},"Select a pathway to view its nodes.")}},78863:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(67294),r=a(9669),l=a.n(r),c=a(88129),o=a.n(c),i=a(17834),s=a(58660),u=a(86329),m=function(){return(m=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const p=function(e){var t=e.simulation,a=e.title,r=e.height,c=void 0===r?600:r,p=e.top,f=void 0!==p&&p,h=e.n,g=void 0===h?10:h,E=e.direction,b=void 0===E?"negative":E,v=e.connectedTo,y=d(e,["simulation","title","height","top","n","direction","connectedTo"]),x=(0,n.useState)({}),N=x[0],w=x[1],Z=(0,n.useState)({compareWith:y.compareWith,fn:y.fn,useEndpoints:y.useEndpoints,usePerturbation:y.useEndpoints}),k=Z[0],S=Z[1],C=N.data,P=N.error,F=N.message,O=k.compareWith,T=k.fn,j=k.useEndpoints,B=k.usePerturbation;if((0,n.useEffect)((function(){w({}),O&&O>0&&l().post(o()("simulations.plugins.partialCorrelation",t),{compareWith:O,fn:T,top:f,n:g,direction:b,useEndpoints:j,usePerturbation:B}).then((function(e){var t=e.data;w({data:t})})).catch((function(e){var t;w({error:!0,message:null!==(t=e.response.data.message)&&void 0!==t?t:e.message})}))}),[t,O,T,f,g,b,j,B]),(0,u.b)("onCorrelationGraphBarClick",(function(e){S((function(t){return m(m({},t),e)}))}),v,[S]),!O||O<0)return n.createElement(i.Z,{color:"primary"},n.createElement("i",{className:"fas fa-exclamation-circle mx-2"}),"Click on a bar in the correlation graph to display its details.");if(P)return n.createElement("p",{className:"text-red"},F);var D=C?Math.min.apply(Math,C.y):0,I=C?Math.max.apply(Math,C.y):0,R=Math.max(Math.abs(D),Math.abs(I)),A=-R;return n.createElement(n.Fragment,null,!!C&&n.createElement(n.Fragment,null,n.createElement("div",{className:"d-flex flex-grow-1"},n.createElement(s.Z,{data:[m(m({},C),{type:"bar",marker:{color:C.y,cmin:A,cmax:R,colorscale:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(255,255,255)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],showscale:!0}})],layout:{bargap:0,yaxis:{title:"pearson"===T?"Pearson Correlation":"Spearman Correlation"},font:{size:12},autosize:!0,showlegend:!1,title:a},config:{responsive:!0},style:{width:"100%",height:c+"px"},useResizeHandler:!0}))),!C&&n.createElement(i.Z,{color:"primary"},n.createElement("i",{className:"fas fa-circle-notch fa-spin mx-2"}),"Building image. Please wait..."))}},93085:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(67294),r=a(9669),l=a.n(r),c=a(88129),o=a.n(c),i=a(17834),s=a(85677),u=a(97975),m=a(94184),d=a.n(m);const p=function(e){var t=e.simulation,a=e.pathway,r=e.position,c=void 0===r?"center":r,m=e.legend,p=(0,n.useState)({}),f=p[0],h=p[1],g=(0,n.useState)(!1),E=g[0],b=g[1],v=f.data,y=f.error,x=f.message;(0,n.useEffect)((function(){a&&l().post(o()("simulations.plugins.pathwayImage",t),{pathway:a}).then((function(e){var t=e.data;h(t)})).catch((function(e){var t;h({error:!0,message:null!==(t=e.response.data.message)&&void 0!==t?t:e.message})}))}),[t,a]);var N=function(){return b((function(e){return!e}))};return a?y?n.createElement("p",{className:"text-red"},x):n.createElement(n.Fragment,null,!!v&&n.createElement(n.Fragment,null,["left","right"].includes(c)&&n.createElement("div",{className:d()({figure:!0,fig_left:"left"===c,fig_right:"right"===c})},n.createElement("div",{className:"fig_container"},n.createElement("a",{href:"#",className:"fig",onClick:function(e){e.preventDefault(),b(!0)}},n.createElement("img",{src:v,alt:a})),n.createElement("div",{className:"fig_caption"},m))),"center"===c&&n.createElement("div",{className:"d-flex justify-content-center"},n.createElement("div",{className:"figure",style:{width:"50%"}},n.createElement("div",{className:"fig_container"},n.createElement("a",{href:"#",className:"fig",onClick:function(e){e.preventDefault(),b(!0)}},n.createElement("img",{src:v,alt:a,className:"centered"})),n.createElement("div",{className:"fig_caption"},m)))),n.createElement(s.Z,{className:"modal-dialog-centered",isOpen:E,toggle:function(){return N()},style:{maxWidth:"100vw"}},n.createElement("div",{className:"modal-header"},n.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},m),n.createElement("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return N()}},n.createElement("span",{"aria-hidden":!0},"×"))),n.createElement("div",{className:"modal-body"},n.createElement("img",{src:v,alt:a,style:{width:"100%"}})),n.createElement("div",{className:"modal-footer"},n.createElement(u.Z,{color:"primary","data-dismiss":"modal",type:"button",onClick:function(){return N()}},"Close")))),!v&&n.createElement(i.Z,{color:"primary"},n.createElement("i",{className:"fas fa-circle-notch fa-spin mx-2"}),"Building image. Please wait...")):n.createElement(i.Z,{color:"warning"},"Select a pathway to view its image.")}},31395:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var n=a(67294),r=a(99551),l=a(814),c=a(14951),o=a(29802),i=a(9669),s=a.n(i),u=a(88129),m=a.n(u),d=(a(59201),a(12313),a(82106),function(){return(d=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),p=o.ol.SearchBar;const f=function(e){var t=e.simulation,a=e.pathways,i=e.sortable,u=void 0===i||i,f=e.filterable,h=void 0===f||f,g=e.enableId,E=void 0!==g&&g,b=e.defaultSorting,v=void 0===b?{dataField:"pathwayFDR",order:"asc"}:b,y=e.onSelect,x=e.onView,N=(0,n.useState)({data:void 0}),w=N[0],Z=N[1],k=w.data,S=w.error,C=w.message;(0,n.useEffect)((function(){var e=a?{pathways:a}:{};s().post(m()("simulations.plugins.pathwaysTable",t),e).then((function(e){var t=e.data;Z({data:Object.values(t)})})).catch((function(e){Z({error:!0,message:e.message})}))}),[t,a]);var P=[{dataField:"pathwayName",text:"Name",sort:u,classes:"text-truncate"},{dataField:"pathwayActivityScore",text:"Activity Score",sort:u,classes:"text-truncate",formatter:function(e,t){return t.pathwayActivityScore.toFixed(4)}},{dataField:"averagePathwayPerturbation",text:"Perturbation",sort:u,classes:"text-truncate",formatter:function(e,t){return t.averagePathwayPerturbation.toFixed(4)}},{dataField:"pathwayPValue",text:"p-value",sort:u,classes:"text-truncate",formatter:function(e,t){return t.pathwayPValue<1e-4?"< 0.0001":t.pathwayPValue.toFixed(4)}},{dataField:"pathwayFDR",text:"FDR",sort:u,classes:"text-truncate",formatter:function(e,t){return t.pathwayPValue<1e-4?"< 0.0001":t.pathwayFDR.toFixed(4)}}];E&&P.unshift({dataField:"pathwayId",text:"Id",sort:u}),x&&P.push({dataField:"view",isDummyField:!0,text:"",headerStyle:{width:"60px"},formatter:function(e,t){return n.createElement("a",{className:"btn btn-sm btn-link",href:"#",onClick:function(e){e.preventDefault(),e.stopPropagation(),x(t.pathwayId)}},n.createElement("i",{className:"fas fa-eye fa-fw"}))}});var F=y?{mode:"checkbox",clickToSelect:!0,hideSelectAll:!0,onSelect:function(e){return y(e.pathwayId)}}:void 0,O=(0,n.useMemo)((function(){return(0,l.ZP)({alwaysShowAllBtns:!0,showTotal:!0,withFirstAndLast:!1,sizePerPageRenderer:function(e){var t=e.onSizePerPageChange;return n.createElement("div",{className:"dataTables_length",id:"datatable-basic_length"},n.createElement("label",null,"Show"," ",n.createElement("select",{name:"datatable-basic_length","aria-controls":"datatable-basic",className:"form-control form-control-sm",onChange:function(e){return t(+e.target.value,1)}},n.createElement("option",{value:"10"},"10"),n.createElement("option",{value:"25"},"25"),n.createElement("option",{value:"50"},"50"),n.createElement("option",{value:"100"},"100"))," ","entries."))}})}),[t,a,u]);return S?n.createElement("p",{className:"text-red"},C):n.createElement(o.ZP,{keyField:"pathwayId",data:null!=k?k:[],columns:P,search:!0},(function(e){return n.createElement("div",{className:"py-4"},h&&n.createElement("div",{className:"dataTables_filter px-4 pb-1"},n.createElement("label",null,"Search:",n.createElement(p,d({className:"form-control-sm",placeholder:""},e.searchProps)))),n.createElement(r.Z,d({},e.baseProps,{bootstrap4:!0,pagination:O,filter:(0,c.ZP)(),bordered:!1,defaultSorted:[v],selectRow:F})))}))}},89464:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(67294),r=a(9669),l=a.n(r),c=a(88129),o=a.n(c),i=a(17834),s=a(58660),u=function(){return(u=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};const m=function(e){var t=e.simulation,a=e.title,r=e.height,c=void 0===r?600:r,m=e.type,d=void 0===m?"pathways":m,p=e.mode,f=void 0===p?"top":p,h=e.selection,g=e.sortBy,E=void 0===g?"perturbation":g,b=e.n,v=void 0===b?10:b,y=e.absolute,x=void 0!==y&&y,N=e.limit,w=void 0===N?"none":N,Z=e.attach,k=void 0===Z?{}:Z,S=(0,n.useState)({}),C=S[0],P=S[1],F=C.data,O=C.error,T=C.message;return(0,n.useEffect)((function(){l().post(o()("simulations.plugins.heatmap",t),{type:d,mode:f,selection:h,sort_by:E,n:v,absolute:x,limit:w,attach:k}).then((function(e){var t=e.data;P({data:t})})).catch((function(e){var t;P({error:!0,message:null!==(t=e.response.data.message)&&void 0!==t?t:e.message})}))}),[t,d,f,h,E,v,x,w,k]),O?n.createElement("p",{className:"text-red"},T):n.createElement(n.Fragment,null,!!F&&n.createElement(n.Fragment,null,n.createElement("div",{className:"d-flex flex-grow-1"},n.createElement(s.Z,{data:[u(u({},F),{type:"heatmap",colorscale:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(255,255,255)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]]})],layout:{font:{size:12},autosize:!0,title:a},config:{responsive:!0},style:{width:"100%",height:c+"px"},useResizeHandler:!0}))),!F&&n.createElement(i.Z,{color:"primary"},n.createElement("i",{className:"fas fa-circle-notch fa-spin mx-2"}),"Building image. Please wait..."))}}}]);
//# sourceMappingURL=910.js.map?id=5ed9b51a08df0f6b21f1