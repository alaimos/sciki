(self.webpackChunk=self.webpackChunk||[]).push([[79],{73684:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(67294),a=n(88129),l=n.n(a),s=n(7143),c=n(94184),o=n.n(c),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function s(e){try{o(r.next(e))}catch(e){l(e)}}function c(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}o((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,a,l,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,r=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){s.label=l[1];break}if(6===l[0]&&s.label<a[1]){s.label=a[1],a=l;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(l);break}a[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};const f=function(e){var t,n=e.object,a=e.idKey,c=e.commentRoute,f=(0,r.useState)({currentUserVote:null!==(t=n.current_user_vote)&&void 0!==t?t:0,totalVote:n.votes_sum_vote}),d=f[0],p=f[1],h=function(e){return u(void 0,void 0,void 0,(function(){var t,r;return m(this,(function(o){switch(o.label){case 0:return d.voting?[2]:(p((function(e){return i(i({},e),{voting:!0})})),[4,s.Z.post(l()(c,n[a]),{vote:e})]);case 1:return t=o.sent(),p({currentUserVote:t.data.current_user_vote,totalVote:null!==(r=t.data.total_votes)&&void 0!==r?r:0}),[2]}}))}))};return r.createElement("div",{className:"vote"},r.createElement("div",{className:"d-flex flex-row text-sm"},r.createElement("div",{className:o()({like:!0,"p-2":!0,cursor:!0,selected:1===d.currentUserVote}),onClick:function(){return h(1)}},r.createElement("i",{className:"fas fa-thumbs-up"}),r.createElement("span",{className:"ml-1"},"Up-vote")),r.createElement("div",{className:"p-2",title:"Votes"},r.createElement("i",{className:"fas fa-vote-yea"}),r.createElement("span",{className:"ml-1"},d.totalVote)),r.createElement("div",{className:o()({like:!0,"p-2":!0,cursor:!0,selected:-1===d.currentUserVote}),onClick:function(){return h(-1)}},r.createElement("i",{className:"fas fa-thumbs-down"}),r.createElement("span",{className:"ml-1"},"Down-vote"))))}},53407:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),a=n(98595),l=n(10267),s=n(51252);const c=function(e){var t=e.headerBg,n=e.title;return r.createElement(r.Fragment,null,r.createElement("div",{className:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center "+(null!=t?t:"bg-gradient-gray-dark")},r.createElement(a.Z,{className:"d-flex align-items-center flex-grow-1",fluid:!0},r.createElement(l.Z,{className:"flex-grow-1"},r.createElement(s.Z,{lg:"7",md:"10"},r.createElement("h1",{className:"display-2 text-white"},null!=n?n:" "))))))}},24726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),a=n(53407),l=n(98595),s=n(10267),c=n(51252),o=n(77243),i=n(53999),u=n(98008),m=n(64593),f=n(9680),d=n(88129),p=n.n(d);const h=function(e){var t=e.userIsLoggedIn,n=e.pageSlug,d=e.title,h=e.children,v=e.customNavButtons,g=e.userCanUpdate,b=e.userCanDelete,E=g||b;return r.createElement(r.Fragment,null,r.createElement(m.q,null,r.createElement("title",null,d)),r.createElement(a.Z,{title:d}),r.createElement(l.Z,{className:"mt--7",fluid:!0},r.createElement(s.Z,{className:"mb-2"},r.createElement(c.Z,{lg:12,className:"text-right"},r.createElement(o.Z,{className:"nav-fill flex-column-reverse flex-sm-row-reverse",pills:!0},t&&E&&r.createElement(r.Fragment,null,b&&r.createElement(i.Z,{className:"ml-2 flex-grow-0"},r.createElement(u.Z,{className:"mb-sm-3 mb-md-0 text-danger",onClick:function(e){if(e.preventDefault(),confirm("Do you really want to delete this page?"))return f.Inertia.delete(p()("page.destroy",n))},href:"#"},r.createElement("i",{className:"fas fa-trash mr-2"}),"Delete")),g&&r.createElement(i.Z,{className:"ml-2 flex-grow-0"},r.createElement(u.Z,{className:"mb-sm-3 mb-md-0",onClick:function(e){return e.preventDefault(),f.Inertia.get(p()("page.edit",n))},href:"#"},r.createElement("i",{className:"fas fa-pencil-alt mr-2"}),"Edit"))),v))),h))}},5079:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(67294),a=n(53999),l=n(98008),s=n(36955),c=n(56941),o=n(91121),i=n(51636),u=n(88129),m=n.n(u),f=n(8625),d=n(12888),p=n(24726),h=n(73684),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},g=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function s(e){try{o(r.next(e))}catch(e){l(e)}}function c(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}o((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,a,l,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,r=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){s.label=l[1];break}if(6===l[0]&&s.label<a[1]){s.label=a[1],a=l;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(l);break}a[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};const E=function(e){var t=e.auth,u=t.check,E=t.is_editor,y=t.is_admin,w=e.page,x=e.content,N=e.can,k=N.update,Z=N.delete,C=w.slug,_=w.title,O=(0,r.useState)(!1),S=O[0],D=O[1],U=(0,r.useState)([]),P=U[0],V=U[1];return(0,r.useEffect)((function(){x&&g(void 0,void 0,void 0,(function(){var e,t,a,l,s,c,o,i,u,m,d,p,h;return b(this,(function(g){switch(g.label){case 0:D(!0),(e=new Array(x.length)).fill(void 0),t=0,g.label=1;case 1:if(!(t<x.length))return[3,12];if(a=x[t],l=a.component,s=a.key,c=a.props,!l)return[3,10];g.label=2;case 2:return g.trys.push([2,9,,10]),o=void 0,l.startsWith("#")?(i=l.replace(/^#/,""),[4,n(25747)("./"+i)]):[3,4];case 3:return o=g.sent(),[3,8];case 4:return l.startsWith("@")?[3,6]:[4,Promise.all([n.e(898),n.e(610)]).then(n.bind(n,57610))];case 5:return o=g.sent(),[3,8];case 6:return(u=l.match(f.Qo))?(m=u[1],d=u[2].replace(/^\//,""),[4,n(73374)("./"+m+"/WikiPlugins/"+d)]):(console.error("Syntax error: "+l),[3,11]);case 7:o=g.sent(),g.label=8;case 8:return p=o.default,e[t]=r.createElement(p,v({key:s},c),null),[3,10];case 9:return h=g.sent(),console.error(h),[3,10];case 10:V(e.filter((function(e){return!!e}))),g.label=11;case 11:return t++,[3,1];case 12:return D(!1),[2]}}))})).catch((function(e){return console.error(e)}))}),[x,V]),r.createElement(p.Z,{userIsLoggedIn:u,pageSlug:C,title:_,userCanUpdate:k,userCanDelete:Z,customNavButtons:[r.createElement(a.Z,{className:"ml-2 flex-grow-0",key:"wiki.comments.index"},r.createElement(l.Z,{className:"mb-sm-3 mb-md-0",tag:i.ZQ,href:m()("wiki.comments",C)},r.createElement("i",{className:"fas fa-comments mr-2"}),"Comments")),r.createElement(a.Z,{className:"ml-2 flex-grow-0",key:"wiki.revisions.index"},r.createElement(l.Z,{className:"mb-sm-3 mb-md-0",tag:i.ZQ,href:m()("wiki.revisions.index",C)},r.createElement("i",{className:"fas fa-history mr-2"}),"History"))]},r.createElement(d.default,{active:S,spinner:r.createElement(s.Z,{color:"light",className:"mr-2"}),text:"Rendering..."},r.createElement(c.Z,{className:"shadow"},r.createElement(o.Z,null,P,u&&(E||y)&&r.createElement("div",{className:"bg-white",style:{position:"absolute",top:"0",right:"0"}},r.createElement("div",{className:"m-2"},r.createElement(h.Z,{object:w,idKey:"slug",commentRoute:"page.vote"})))))))}},25747:(e,t,n)=>{var r={"./Error":[17121,898,121],"./Error.tsx":[17121,898,121],"./HighlightedCode":[20104,898,104],"./HighlightedCode.tsx":[20104,898,104],"./Katex":[53051,898,51],"./Katex.tsx":[53051,898,51],"./Mermaid":[9136,898,44],"./Mermaid.tsx":[9136,898,44],"./Test":[55678,678],"./Test.tsx":[55678,678]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(a)))}a.keys=()=>Object.keys(r),a.id=25747,e.exports=a}}]);
//# sourceMappingURL=79.js.map?id=6eaf10e8eb8068a1d9cf